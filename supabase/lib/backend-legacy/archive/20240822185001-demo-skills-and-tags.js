'use strict';

const { v4: uuidv4 } = require('uuid');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    // Sample skills
    const skills = [
      {
        id: uuidv4(),
        name: 'JavaScript',
        slug: 'javascript',
        description: 'Modern JavaScript programming language for web development',
        category: 'programming_language',
        proficiency_level: 'expert',
        proficiency_score: 95,
        years_of_experience: 8.5,
        first_used_date: '2016-01-01',
        last_used_date: new Date().toISOString().split('T')[0],
        is_primary_skill: true,
        is_featured: true,
        display_order: 1,
        color_hex: '#F7DF1E',
        official_website: 'https://developer.mozilla.org/en-US/docs/Web/JavaScript',
        learning_resources: JSON.stringify([
          { title: 'MDN JavaScript Guide', url: 'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide' },
          { title: 'JavaScript.info', url: 'https://javascript.info/' }
        ]),
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'React',
        slug: 'react',
        description: 'A JavaScript library for building user interfaces',
        category: 'framework',
        proficiency_level: 'expert',
        proficiency_score: 92,
        years_of_experience: 6.0,
        first_used_date: '2018-03-01',
        last_used_date: new Date().toISOString().split('T')[0],
        is_primary_skill: true,
        is_featured: true,
        display_order: 2,
        color_hex: '#61DAFB',
        official_website: 'https://reactjs.org/',
        learning_resources: JSON.stringify([
          { title: 'React Official Tutorial', url: 'https://reactjs.org/tutorial/tutorial.html' },
          { title: 'React Hooks Guide', url: 'https://reactjs.org/docs/hooks-intro.html' }
        ]),
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Node.js',
        slug: 'nodejs',
        description: 'JavaScript runtime for server-side development',
        category: 'platform',
        proficiency_level: 'advanced',
        proficiency_score: 88,
        years_of_experience: 5.5,
        first_used_date: '2019-01-01',
        last_used_date: new Date().toISOString().split('T')[0],
        is_primary_skill: true,
        is_featured: true,
        display_order: 3,
        color_hex: '#339933',
        official_website: 'https://nodejs.org/',
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'PostgreSQL',
        slug: 'postgresql',
        description: 'Advanced open-source relational database',
        category: 'database',
        proficiency_level: 'advanced',
        proficiency_score: 85,
        years_of_experience: 4.0,
        first_used_date: '2020-06-01',
        last_used_date: new Date().toISOString().split('T')[0],
        is_featured: true,
        display_order: 4,
        color_hex: '#336791',
        official_website: 'https://www.postgresql.org/',
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Docker',
        slug: 'docker',
        description: 'Containerization platform for application deployment',
        category: 'tool',
        proficiency_level: 'intermediate',
        proficiency_score: 75,
        years_of_experience: 3.0,
        first_used_date: '2021-01-01',
        last_used_date: new Date().toISOString().split('T')[0],
        is_featured: true,
        display_order: 5,
        color_hex: '#2496ED',
        official_website: 'https://www.docker.com/',
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
    ];

    // Sample tags
    const tags = [
      {
        id: uuidv4(),
        name: 'Web Development',
        slug: 'web-development',
        display_name: 'Web Development',
        description: 'Building web applications and websites',
        category: 'project_type',
        color: '#007ACC',
        usage_count: 15,
        is_featured: true,
        popularity_score: 150,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Frontend',
        slug: 'frontend',
        display_name: 'Frontend Development',
        description: 'Client-side development and user interfaces',
        category: 'technology',
        color: '#FF6B6B',
        usage_count: 12,
        is_featured: true,
        popularity_score: 120,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Backend',
        slug: 'backend',
        display_name: 'Backend Development',
        description: 'Server-side development and APIs',
        category: 'technology',
        color: '#4ECDC4',
        usage_count: 10,
        is_featured: true,
        popularity_score: 100,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Full Stack',
        slug: 'full-stack',
        display_name: 'Full Stack',
        description: 'End-to-end application development',
        category: 'methodology',
        color: '#45B7D1',
        usage_count: 8,
        is_featured: true,
        popularity_score: 80,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'API',
        slug: 'api',
        display_name: 'API Development',
        description: 'Application Programming Interface development',
        category: 'technology',
        color: '#96CEB4',
        usage_count: 7,
        popularity_score: 70,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
      {
        id: uuidv4(),
        name: 'Database Design',
        slug: 'database-design',
        display_name: 'Database Design',
        description: 'Database architecture and optimization',
        category: 'methodology',
        color: '#FECA57',
        usage_count: 5,
        popularity_score: 50,
        status: 'active',
        created_at: new Date(),
        updated_at: new Date(),
      },
    ];

    await queryInterface.bulkInsert('skills', skills);
    await queryInterface.bulkInsert('tags', tags);
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete('tags', null, {});
    await queryInterface.bulkDelete('skills', null, {});
  }
};